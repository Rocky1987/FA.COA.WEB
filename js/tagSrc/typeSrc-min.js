function labelToSrc(t,a,n,i){var e=$(t),c=$(a),s=$(n),r=$(i);labelSrc(t,a),s.on("click",(function(){srcLabel(t,a)})),r.on("click",(function(){c.val(""),e.find("label").show(),e.find(".no-data").hide()}))}function srcLabel(t,a){var n=$(t),i=$(a).val();n.find("span").each((function(t,a){-1==$(this).text().indexOf(i)&&$(this).parent().hide()})),n.find("span:visible").length?n.find(".no-data").hide():n.find(".no-data").show()}function labelSrc(t,a){var n=$(t);n.append('<div class="no-data" style="display: none;">無此關鍵字</div>');var i=$(a),e=[];n.find("span").each((function(t,a){var n=$(this).text();e.push(n)}));var c;i.typeahead({hint:!0,highlight:!0,minLength:1},{name:"srcList",limit:99,source:(c=e,function(t,a){var n;n=[],substrRegex=new RegExp(t,"i"),$.each(c,(function(t,a){substrRegex.test(a)&&n.push(a)})),a(n)})})}function tagToSrc(t,a,n,i,e){var c=$(t),s=$(a),r=$(n),d=$(i),o=$(e);tagSrc(a,n),d.on("click",(function(){srcTag(a,n)})),o.on("click",(function(){r.val(""),s.find(".tag-name").parent().show(),s.find(".no-data").hide()})),c.find("[tagAddBtn]").on("click",(function(){var i=$(this).parent().find("input"),e=i.val();c.find("[tagList]").append('<li><div class="tag-name">'+e+'</div><div class="tag-del" tagDel><i class="fad fa-times" title="刪除" alt="刪除"></i></div></li>'),i.val(""),removeTag(t,a,n),tagSrc(a,n)})),removeTag(t,a,n)}function srcTag(t,a){var n=$(t),i=$(a).val();n.find(".tag-name").each((function(t,a){-1==$(this).text().indexOf(i)&&$(this).parent().hide()})),n.find(".tag-name:visible").length?n.find(".no-data").hide():n.find(".no-data").show()}var tagSrcList;function tagSrc(t,a){var n=$(t);n.find(".no-data").length||n.append('<li class="no-data" style="display: none;">無此關鍵字</li>');var i=$(a);tagSrcList=[],n.find(".tag-name").each((function(t,a){var n=$(this).text();tagSrcList.push(n)}));var e;i.typeahead("destroy"),i.typeahead({hint:!0,highlight:!0,minLength:1},{name:"tagSrcList",limit:99,source:(e=tagSrcList,function(t,a){var n;n=[],substrRegex=new RegExp(t,"i"),$.each(e,(function(t,a){substrRegex.test(a)&&n.push(a)})),a(n)})})}function removeTag(t,a,n){$(t).find("[tagDel]").on("click",(function(){$(this).parent().remove(),tagSrc(a,n)}))}$((function(){labelToSrc("#tagCheckList","#tagSrc","#tagSrcBtn","#tagSrcCleanBtn"),tagToSrc("#tagArea1","#tagList1","#tagSrcInput","#tagSrcBtn","#tagSrcCleanBtn"),$(".tag-add").on("click",(function(){var t=$(this).next(".tag-creat");t.is(":visible")?t.hide():t.show()}))}));